// Created by gelidotris on 8/08/16.

include ../node_modules/jade-bootstrap/_bootstrap
block head
    link(rel = "stylesheet", href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css")
    script(type = "text/javascript", src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js")
    script(type = "text/javascript", src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js")

append styles
    link(rel='stylesheet', href='/stylesheets/style.css')
    link(rel='stylesheet', href='/stylesheets/normalize.css')
    link(rel='stylesheet', href='/stylesheets/skeleton.css')

block body
    include navBar
    include sidebar
    .container
        .col-lg-10
            .row
            br
            br
            .page-header
                h4
                    | Edit Item
                    small   -- #{itemName}
            form.centerAdd(action="/viewItem?id=#{itemid}",method="post",id="form2" )
                ul.list-group
                    li.list-group-item
                        h8
                            b Item Name
                            br
                            input(class="form-control",type="text", name = "itemName", value='#{itemName}', form="form2", required)
                    li.list-group-item
                        h8
                            b Item Description
                            br
                            input(class="form-control",type="text", name = "itemDescription", value='#{itemDesc}',form="form2", required)
                    li.list-group-item
                        h8
                            b Item Category
                            br
                            select(class="form-control",name="category" form="form2")
                                each category in categories
                                    if(itemCategory == category.category)
                                        option(value='#{itemCategory}',selected='selected') #{category.category}
                                    else
                                        option(value = '#{category.category}') #{category.category}
                    li.list-group-item
                        h8
                            b Date Found
                            br
                            script.
                                $(document).ready(function () {
                                    $("#datepicker").datepicker({dateFormat: "dd-mm-yy"});
                                });
                            input(type = "text", id = "datepicker", form = "form2", name = "dateFound", value = '#{itemDateFound}')
                    li.list-group-item
                        h8
                            b Location Found
                            br
                            input(class="form-control",type="text", name = "locationFound", value='#{itemLocFound}',form="form2", required)
                    li.list-group-item
                        h8
                            b Which Campus the item is at
                            br
                            select(class="form-control",name="campus" form="form2")
                                each location in campus
                                    if(itemCampusLoc == location.campus)
                                        option(value='#{itemCampusLoc}',selected='selected') #{location.campus}
                                    else
                                        option(value='#{location.campus}') #{location.campus}
                    li.list-group-item
                        h8
                            b Image
                            br
                            if photoSRC == '' /* If there is no image for the item */

                                img(src="images/defaultImg.png" style="width:200px;")
                                br
                                br
                                h8 Edit photo url (Clear photo url to delete photo)
                                    input.form-control(type='text', name='photourl', placeholder='Photo URL..')

                            else
                                img(src='#{photoSRC}', style="width:200px;")
                                br
                                br
                                h8 Edit photo url (Clear photo url to delete photo)
                                    input.form-control(type='text', name='photourl', value='#{photoSRC}')
                    li.list-group-item
                        h8
                            b Return Status
                            br
                            .form-group
                                label
                                select(class="form-control",name="returnstatus" form="form2")
                                    if(itemReturnStatus != null && itemReturnStatus != 'Return Status')
                                        option(value='#{itemReturnStatus}',selected='selected') #{itemReturnStatus}
                                        option(value='Return Status') Return Status
                                        option(value='Returned to Owner') Returned to Owner
                                        option(value='Discarded') Discarded
                                        option(value='Given to Police') Given to Police
                                    else
                                        option(value='Return Status') Return Status
                                        option(value='Returned to Owner') Returned to Owner
                                        option(value='Discarded') Discarded
                                        option(value='Given to Police') Given to Police
                    //if itemReturnStatus == 'Returned to Owner'
                    //    li.list-group-item
                    //        h8
                    //            b Date Returned
                    //            br
                    //            script.
                    //                $(document).ready(function () {
                    //                    $("#datepicker").datepicker({dateFormat: "dd-mm-yy"});
                    //                });
                    //            input(type = "text", id = "datepicker", form = "form2", name = "dateReturned", value = '#{itemDateReturned}')




                input(type = "hidden", name = "itemid", value = '#{itemid}', form = 'form2')
                input.btn.btn-success(type="submit" form="form2" value="submit")

    include footer

